<!DOCTYPE html>
<html lang="en">
    <head>
 
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    
        <script src="..\static\newValidation.js"></script>
        <meta charset="UTF-8">
        <title>Login</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
        
    </head>
<div class="container-fluid" style="background-color: rgb(107, 245, 255);">
   <div class="container">
<nav class="navbar navbar-expand-lg navbar-light " >
   <div class="container-fluid">
     <a class="navbar-brand" href="http://127.0.0.1:5000/">NeoSOFT</a>
     <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
       <span class="navbar-toggler-icon"></span>
     </button>
     <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="/addcategory">Add Category</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/addsub_category">Add Subcategory</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/create">Add Product</a>
          </li>
      </ul>
     </div>
   </div>
 </nav> 
</div>
</div>
<body>
<div class="container">
<form method="POST" name="addEmp" onsubmit="validates()" action="" enctype = "multipart/form-data">
<table class="table">
    <tr>
      {{ form.csrf_token}}
        <td>Category</td>
        <td>
          {{ form.category(class="form-control") }}
        </td>
    </tr>
   <tr>
        <td>Sub-Category</td>
        <td>
          {{ form.subcategory(class="form-control")}}
        </td>
    </tr>
    
    <tr>
        <td>Product Name</td>
        <td><input type = "text" name = "first_name" class="form-control" /></td>
    </tr>
    <tr> 
        <td>Product Description</td>
        <td><input type = "text" name = "p_description" class="form-control" /></td>
    </tr>

    <tr>
        <td>Model Type</td>
        <td><input type = "text" name = "p_type" class="form-control" /></td>
    </tr>
    <tr>
        <td>Product Price</td>
        <td><input type = "number" name = "p_price" class="form-control" /></td>
    </tr>
    <tr>
        <td>Product image: </td>
        <td><input type="file" name="photo"/></td>
    </tr>
    <tr> 
        <td colspan="2">
            <input type="submit" name="submit" value="submit" class="btn btn-warning">
        </td>
       
    </tr>
</table>
</form>

</div>
<script src="https://code.jquery.com/jquery-1.12.4.js" type="text/javascript"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script>
      category_select = document.getElementById('category');
      subcategory_select = document.getElementById('subcategory');
       
      category_select.onchange = function(){
       category = category_select.value;
       fetch('subcategory/' + category).then(function(response){
        response.json().then(function(data) {
         optionHTML = '';
         for (subcat of data.subcategory) {
          optionHTML += '<option value="' + subcat.id +'">' + subcat.name + '</option>'
         }
         subcategory_select.innerHTML = optionHTML;
        });
       });
      }
      </script>
</body>
</html>


